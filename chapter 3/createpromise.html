<DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
</body>
<script>
    const cart =["shoes","pants","kurta"];
    const orderPromise= createOrder(cart); //order Id
    orderPromise.then(function(orderId){
        console.log(orderId)
        return(orderId);
    })
        .catch(function(err){
            console.log(err.message);
        })

        
       
    
    

        // proceedtopayment(orderId)
        // for handling errors we use .catch() function
        
    
    .then(function(orderId){
       return proceedtopayment(orderId)
    })
    .then(function(paymentinfo){
        console.log(paymentinfo)
    })
    .catch(function(err){
        console.log(err.message);
    })
    .then(function(orderId){
        console.log("messages done")
     })



    ////
    //producer end code 
    function createOrder(cart){


        const pr =new Promise((resolve, reject) => {

            if(!validatecart(cart)){
                const err =new Error("cart is not valid");
                reject(err);
                
            }
            
                const orderId="12345"
                resolve(orderId);
            
            
        })


        return pr;
    }
    function proceedtopayment(orderId){
        return new Promise((resolve, reject) => {
            resolve("payment successful")
        })

    }
    function validatecart(cart){
        return false;
    }
    //for promise rejection we edit the return to false

</script>
</html>